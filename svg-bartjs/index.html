<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>Tittel</title>

        <link rel="stylesheet" href="./css/reveal.min.css">
        <link rel="stylesheet" href="./css/theme/night.css">
        <link rel="stylesheet" href="./css/theme/bartjs.css">
        <link rel="stylesheet" href="./css/tomorrow-night-bright.css">
        <link rel="stylesheet" href="./css/overrides.css">

        <script type="text/javascript" src="snap.svg-min.js"></script>
    </head>

    <body>

        <div class="reveal">

            <div class="slides">

                <section>
                    <h1>Fremtidsrettet webgrafikk med SVG</h1>
                    <p>BartJS - Februar 2013</p>
                    <p>Stian Veum Møllersen / <a href="http://twitter.com/mollerse">@mollerse</a></p>
                    <p><a href="http://open.bekk.no">open.bekk.no</a></p>
                </section>

                <section>
                    <h2>SVG recap</h2>
                    <aside class="notes">
                        Vi starter med en kjapp introduksjon til SVG, Scalable Vector Graphics, og hva det er, for de som ikke har vært borti det før.
                    </aside>
                </section>

                <section>
                    <h3>Vektor-grafikk</h3>
                    <p>Hvert element defineres som en vektor eller en geometrisk figur</p>
                    <aside class="notes">SVG er vektorgrafikk. Som betyr at hvert element defineres som en vektor eller en geometrisk figur. En vektor, for de som har klart å fortrenge det fra skolegangen, er en matematisk enhet med lengde og retning, eller linjen mellom 2 punkter. Som er litt enklere å visualisere.</aside>
                </section>

                <section>
                    <h3>Vektor vs Punktgrafikk</h3>
                    <img src="assets/VectorBitmapExample.png" alt="Raster vs Vektor">
                    <aside class="notes">Hvorfor liker vi vektorgrafikk? Det er uendelig skalerbart. Fordi, sammenligned med punktgrafikk, eller rastergrafikk, som har en fargeverdi per pixel eller punkt, kan vektorgrafikk representeres nøyaktig selv på veldig høye zoomnivåer.
                    </aside>
                </section>

                <section>
                    <h3>SVG på webben</h3>
                    <a href="http://caniuse.com/#search=svg">caniuse.com</a>
                    <img src="assets/svgsupport.png" alt="">
                    <aside class="notes">Vært en standard siden 2001. Støtten er god i alt bortsett fra IE8 og nedover, samt at en del mangler i Android 2.x og iOS 4.x og nedover hovedsaklig på inline SVG. Hvorfor nå? Retina skjermer og alltime low på krav om legacy støtte.</aside>
                </section>

                <section>
                    <h3>(╯°□°）╯︵ ┻━┻</h3>
                    <p>Legacy browsers</p>
                    <aside class="notes">VML som fallback i eldre IE, det er nå offisielt deprecated. Kjipere utgave av SVG. Feature detection med modernizr for de andre platformene.</aside>
                </section>

                <section>
                    <h3>Good news</h3>
                    <img src="assets/browsers.png" alt="">
                    <aside class="notes">IE8 og nedover er forsvinnende liten. iOS er ofte oppdatert og Android native browser er nesten ikke synlig en gang. Men husk å sjekke dine egne statistikker!</aside>
                </section>

                <section>
                    <h2>SVG og JavaScript</h2>
                    <aside class="notes">Så, la oss snakke litt om SVG og JavaScript, det er jo derfor vi er her.</aside>
                </section>

                <section>
                    <h3>Dynamisk generert og programmatisk tilgjengelig grafikk</h3>
                    <aside class="notes">Det er utrolig fett hva som blir mulig når du åpner disse to dørene.</aside>
                </section>

                <section>
                    <h3><a href="http://mbostock.github.io/d3/talk/20111116/force-collapsible.html">Demo</a></h3>
                </section>

                <section>
                    <h3>Kilder til SVG</h3>
                    <ul>
                        <li>Håndskrevet</li>
                        <li>Eksportert</li>
                    </ul>
                </section>

                <section>
                    <h3>Håndskrevet</h3>
                    <p class="fragment" data-fragment-index="0">&lt;circle cx="25" cy="25" r="20" fill="green" /&gt;</p>
                </section>

                <section>
                    <h3>Håndskrevet</h3>
                    <pre class="fragment" data-fragment-index="0"><code class="javascript">var shape = svgDocument.createElementNS(svgns, "circle");
shape.setAttributeNS(null, "cx", 25);
shape.setAttributeNS(null, "cy", 25);
shape.setAttributeNS(null, "r",  20);
shape.setAttributeNS(null, "fill", "green");</code></pre>
                </section>

                <section>
                    <h3>Eksportert</h3>
                    <p><span>Photoshop, Indesign, Inkscape </span><span class="fragment" data-fragment-index="1">&mdash; Designere</span></p>
                </section>

                <section>
                    <h3>Inkludere eksporterte SVGer</h3>
                    <p>&lt;img src="some.svg" /&gt;</p>
                </section>
                <section>
                    <h3>Inkludere eksporterte SVGer</h3>
                    <strike><p>&lt;img src="some.svg" /&gt;</p></strike>
                    <p class="fragment" data-fragment-index="0">&lt;object data="some.svg" type="image/svg+xml" /&gt;</p>
                    <aside class="notes">På denne måten blir svg'en vår et sub-dokument. Og vi kan hooke oss inn i det via javascript.</aside>
                </section>

                <section>
                    <h3>Jobbe med eksporterte SVGer</h3>
                    <pre class="fragment"><code>var svgObject = document.getElementById("object").contentDocument;</code></pre>
                    <pre class="fragment"><code>svgObject.getElementById("circle").addEventListener("click", function() {
   console.log("clicked");
});</code></pre>
                    <aside class="notes">Her kan vi hooke oss inn i SVGen, men det er ikke like nice som å jobbe på SVG som er embedded rett i DOMen.</aside>
                </section>

                <section>
                    <h3>Embedde SVG</h3>
                    <ul>
                        <li class="fragment">Serverside</li>
                        <li class="fragment">Clientside</li>
                    </ul>
                    <aside class="notes">Embedde SVGer kan gjøres på i hovedsak to måter. Serverside, som en del av asset pipelinen din. Siden SVG bare er markup kan du embedde det rett i HTMLen din, som du ville gjort med en template. Eller du kan laste det inn async på klientenen og embedde det der.</aside>
                </section>

                <section>
                    <h3>Jobbe med embedded SVG</h3>
                    <p>Ikke ulikt vanlig DOM manipulasjon</p>
                </section>

                <section>
                    <h3 class="fragment">Liberaries <span class="fragment">(⌐■_■)</span></h3>
                    <aside class="notes">Fordi det ikke alltid er like behagelig å jobbe rett på DOM-apiene, og vi er jo veldig glade i abstraksjoner. I tillegg så er det ikke alltid like greit å håndtere edgecases og quirks mellom browsere. Så er dette tidspunktet for å ta inn libs. Yeaaah.</aside>
                </section>

                <section>
                    <h3>Generelle biblotek</h3>
                    <p>Raphaël</p>
                    <img class="no-fuzz" src="assets/raphael.png" alt="raphael">
                    <aside class="notes">Sikkert mange som har hørt om Raphael fra før. Det har eksistert en god stund og har blandt annet bakoverkompabilitet til eldre IE (5.5 tror jeg). Men bakoverkompabiliteten koster i form av utelatte features.</aside>
                </section>

                <section>
                    <h3>Generelle biblotek</h3>
                    <p>Snap.svg</p>
                    <iframe src="assets/snap.html" frameborder="0"></iframe>
                    <aside class="notes">Snap.svg kom på høsten i fjor, og er på mange måter Raphael2.0. Laget av de samme folka, med stort sett det samme APIet. Siden de dropper bakoverkompat så kan vi også bruke det meste av SVG features.</aside>
                </section>

                <section>
                    <h3>Spesialiserte biblotek</h3>
                    <ul>
                        <li>D3.js</li>
                        <li>Graphael</li>
                        <li>m.fl.</li>
                    </ul>
                    <aside class="notes">Det finnes også mange spesialiserte SVG bibloteker. De fleste av dem dreier seg om datavisualisering. Tenkte jeg ikke skulle gå så nærme inn på disse.</aside>
                </section>

                <section>
                    <h3>SVG + JavaScript</h3>
                    <p> med Snap.svg</p>
                    <aside class="notes">Så vi ser heller nærmere på Snap.svg og hva vi kan gjøre med det for å lage grafikk.</aside>
                </section>

                <section>
                    <h3>Grunnleggende shapes</h3>
                    <textarea id="a1">
var p = Snap("#s1");

/*rect(x, y, w, h)*/

var rect = p.rect(20,20,100,100);</textarea>
                    <svg id="s1" width="400" height="400" style="background: #000"></svg>
                    <script type="text/javascript">
                        var code = document.querySelectorAll("#a1")[0];
                        var svg = document.querySelectorAll("#s1")[0];
                        code.addEventListener('keyup', function() {
                            svg.innerHTML = "";
                            eval(code.value);
                        });
                        //First load
                        svg.innerHTML = "";
                        eval(code.value);
                    </script>
                    <style>
                        #s1 rect {fill: #f00;}
                    </style>
                </section>

                <section>
                    <h3>Endre egenskaper</h3>
                    <textarea id="a2">
var p = Snap("#s2");
var rect = p.rect(20,20,100,100);

rect.attr({
  fill:'#f00',
  stroke:'#f00',
  strokeWidth:3
});</textarea>
                    <svg id="s2" width="400" height="400" style="background: #000"></svg>
                    <script type="text/javascript">
                        var code = document.querySelectorAll("#a2")[0];
                        var svg = document.querySelectorAll("#s2")[0];
                        code.addEventListener('keyup', function() {
                            svg.innerHTML = "";
                            eval(code.value);
                        });
                        //First load
                        svg.innerHTML = "";
                        eval(code.value);
                    </script>
                </section>

                <section>
                    <h3>Paths</h3>
                    <textarea id="a3">
var p = Snap("#s3");
var path = p.path("M 20 20 L 20 150 L 200 150 L 20 20 Z");</textarea>
                    <svg id="s3" width="400" height="400" style="background: #000"></svg>
                    <script type="text/javascript">
                        var code = document.querySelectorAll("#a3")[0];
                        var svg = document.querySelectorAll("#s3")[0];
                        code.addEventListener('keyup', function() {
                            svg.innerHTML = "";
                            eval(code.value);
                        });
                        //First load
                        svg.innerHTML = "";
                        eval(code.value);
                    </script>
                    <style>
                    #s3 path {stroke: #f00; stroke-width: 10; stroke-linejoin: round;}
                    </style>
                </section>

                <section>
                    <h3>Path syntax</h3>
                    <p><a href="http://www.w3.org/TR/SVG/paths.html#PathData">W3 Spec</a></p>
                    <table>
                        <thead><tr><th>Command</th><th>Name</th></tr></thead>
                        <tbody>
                            <tr><td>M</td><td>moveto</td></tr>
                            <tr><td>Z</td><td>closepath</td></tr>
                            <tr><td>L</td><td>lineto</td></tr>
                            <tr><td>H</td><td>horizontal lineto</td></tr>
                            <tr><td>V</td><td>vertical lineto</td></tr>
                            <tr><td>C</td><td>curveto</td></tr>
                            <tr><td>S</td><td>smooth curveto</td></tr>
                            <tr><td>Q</td><td>quadratic Bézier curveto</td></tr>
                            <tr><td>T</td><td>smooth quadratic Bézier curveto</td></tr>
                            <tr><td>A</td><td>elliptical arc</td></tr>
                        </tbody>
                    </table>
                </section>

                <section>
                    <h3>Paths.js</h3>
                    <p><a href="https://github.com/andreaferretti/paths-js">Source</a></p>
                    <pre><code>var Path = require('paths/path');
var path = Path()
  .moveto(10, 20)
  .lineto(30, 50)
  .lineto(25, 28)
  .qcurveto(27, 30, 32, 27)
  .closepath();</code></pre>

                </section>

                <section>
                    <h3>Andre grafiske elementer</h3>
                    <ul>
                        <li>&lt;ellipse&gt;</li>
                        <li>&lt;image&gt;</li>
                        <li>&lt;line&gt;</li>
                        <li>&lt;polygon&gt;</li>
                        <li>&lt;polyline&gt;</li>
                        <li>&lt;text&gt;</li>
                    </ul>
                </section>

                <section>
                    Assets med Snap (Snap.load())
                </section>

                <section>
                    Events
                </section>

                <section>
                    Transforms
                </section>

                <section>
                    Animations
                </section>

                <section>
                    Viewbox
                </section>

                <section>
                    Paths magi: Animerte paths
                </section>

                <section>
                    Ting å tenke på: Ytelse
                </section>

                <section>
                    SVG vs Canvas/WebGL
                    <aside class="notes">Things vs actions</aside>
                </section>

                <section>
                    <h2>Wrap up</h2>
                </section>

                <section>
                    <h3>Spørsmål, tilbakemeldinger, kjeft etc</h3>
                    <h3><a href="http://www.twitter.com/mollerse">@mollerse</a></h3>
                    <h3><a href="mailto:stian.veum.mollersen@bekk.no">stian.veum.mollersen@bekk.no</a></h3>
                </section>

                <section>
                    <h2>Takk for meg!</h2>
                </section>

            </div>

        </div>

        <script src="./lib/js/head.min.js"></script>
        <script src="./js/reveal.min.js"></script>

        <script>

            Reveal.initialize({
                controls: false,
                progress: false,
                history: true,
                center: true,
                transition: 'none',
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; }},
                    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList;}},
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad();}},
                ]
            });

        </script>


        <script type="text/javascript">document.write('<script src="' + (location.protocol || 'http:') + '//' + (location.hostname || 'localhost') + ':35729/livereload.js?snipver=1" type="text/javascript"><\/script>')</script>
</body>
</html>
